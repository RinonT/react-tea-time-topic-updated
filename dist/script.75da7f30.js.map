{"version":3,"sources":["svg.js","script.js"],"names":["archiveSVG","upvoteSVG","downvoteSVG","trashSVG","topics","init","endpoint","fetch","result","json","showTopics","addTopicForm","document","querySelector","nextTopicContainer","prevTopicContainer","nextTopics","filter","topic","discussedOn","sort","topicA","topicB","ratioA","upvotes","downvotes","ratioB","nextTopicHtml","map","id","title","join","innerHTML","prevTopics","prevTopicHtml","discussedOnDate","Date","Number","toLocaleDateString","handleClick","e","archiveBtn","target","closest","archiveTopic","dataset","upvoteBtn","upvoteTopic","downvoteBtn","downvoteTopic","deleteBtn","deleteTopic","topicToArchive","find","topicToUpvote","topicToDownvote","forEach","index","splice","handleSubmit","preventDefault","newTopic","createNewTopic","currentTarget","value","push","reset","disussedOn","now","addEventListener","body"],"mappings":"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","file":"script.75da7f30.js","sourceRoot":"..","sourcesContent":["export const archiveSVG = `\n<svg\nclass=\"w-6 h-6\"\nfill=\"none\"\nstroke=\"currentColor\"\nviewBox=\"0 0 24 24\"\nxmlns=\"http://www.w3.org/2000/svg\"\n>\n<path\n    stroke-linecap=\"round\"\n    stroke-linejoin=\"round\"\n    stroke-width=\"2\"\n    d=\"M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4\"\n></path>\n</svg>\n`;\n\nexport const upvoteSVG = `<svg\nclass=\"w-6 h-6\"\nfill=\"none\"\nstroke=\"currentColor\"\nviewBox=\"0 0 24 24\"\nxmlns=\"http://www.w3.org/2000/svg\"\n>\n<path\n    stroke-linecap=\"round\"\n    stroke-linejoin=\"round\"\n    stroke-width=\"2\"\n    d=\"M14 10h4.764a2 2 0 011.789 2.894l-3.5 7A2 2 0 0115.263 21h-4.017c-.163 0-.326-.02-.485-.06L7 20m7-10V5a2 2 0 00-2-2h-.095c-.5 0-.905.405-.905.905 0 .714-.211 1.412-.608 2.006L7 11v9m7-10h-2M7 20H5a2 2 0 01-2-2v-6a2 2 0 012-2h2.5\"\n></path>\n</svg>`;\n\nexport const downvoteSVG = `<svg\nclass=\"w-6 h-6\"\nfill=\"none\"\nstroke=\"currentColor\"\nviewBox=\"0 0 24 24\"\nxmlns=\"http://www.w3.org/2000/svg\"\n>\n<path\n    stroke-linecap=\"round\"\n    stroke-linejoin=\"round\"\n    stroke-width=\"2\"\n    d=\"M10 14H5.236a2 2 0 01-1.789-2.894l3.5-7A2 2 0 018.736 3h4.018a2 2 0 01.485.06l3.76.94m-7 10v5a2 2 0 002 2h.096c.5 0 .905-.405.905-.904 0-.715.211-1.413.608-2.008L17 13V4m-7 10h2m5-10h2a2 2 0 012 2v6a2 2 0 01-2 2h-2.5\"\n></path>\n</svg>`;\n\nexport const trashSVG = `\n<svg class=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\"><path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\"></path></svg>\n`;\n","import { archiveSVG, upvoteSVG, downvoteSVG, trashSVG } from './svg';\n\nlet topics = [];\n\nconst init = async () => {\n\tconst endpoint =\n\t\t'https://gist.githubusercontent.com/Pinois/93afbc4a061352a0c70331ca4a16bb99/raw/6da767327041de13693181c2cb09459b0a3657a1/topics.json';\n\tconst result = await fetch(endpoint);\n\ttopics = await result.json();\n\tshowTopics(topics);\n\treturn topics;\n};\n\ninit();\n\nconst addTopicForm = document.querySelector('form');\nconst nextTopicContainer = document.querySelector('.next-topic-container');\nconst prevTopicContainer = document.querySelector('.prevTopicContainer');\n\nconst showTopics = topics => {\n\t// only use the topics we want to\n\tlet nextTopics = topics.filter(topic => !topic.discussedOn);\n\n\t// sort them the way we want\n\tnextTopics = nextTopics.sort((topicA, topicB) => {\n\t\tconst ratioA = topicA.upvotes - topicA.downvotes;\n\t\tconst ratioB = topicB.upvotes - topicB.downvotes;\n\t\treturn ratioB - ratioA;\n\t});\n\n\tconst nextTopicHtml = nextTopics\n\t\t.map(\n\t\t\ttopic => `\n\t\t\t\t<article>\n\t\t\t\t\t<button class=\"archive\" data-id=\"${topic.id}\">\n\t\t\t\t\t\t${archiveSVG}\n\t\t\t\t\t</button>\n\t\t\t\t\t<h5 class=\"topic-text\">${topic.title}</h5>\n\t\t\t\t\t<div class=\"votes\">\n\t\t\t\t\t\t<button class=\"upvote\" data-id=\"${topic.id}\">\n\t\t\t\t\t\t\t${upvoteSVG}\n\t\t\t\t\t\t</button>\n\t\t\t\t\t\t<span class=\"upvote-number\">${topic.upvotes}</span>\n\t\t\t\t\t\t<button class=\"downvote\" data-id=\"${topic.id}\">\n\t\t\t\t\t\t\t${downvoteSVG}\n\t\t\t\t\t\t</button>\n\t\t\t\t\t\t<span class=\"downvote-number\">${topic.downvotes}</span>\n\t\t\t\t\t</div>\n\t\t\t\t</article>\n    `\n\t\t)\n\t\t.join('');\n\tnextTopicContainer.innerHTML = nextTopicHtml;\n\n\tconst prevTopics = topics.filter(topic => topic.discussedOn);\n\tconst prevTopicHtml = prevTopics\n\t\t.map(topic => {\n\t\t\tconst discussedOnDate = new Date(Number(topic.discussedOn));\n\t\t\treturn `\n                <article>\n                    <button class=\"delete\" data-id=\"${topic.id}\">\n                        ${trashSVG}\n                    </button>\n                    <h5 class=\"topic-text\">${topic.title}</h5>\n                    <p>Discussed on ${discussedOnDate.toLocaleDateString()}\n                </article>\n            `;\n\t\t})\n\t\t.join('');\n\tprevTopicContainer.innerHTML = prevTopicHtml;\n};\n\nconst handleClick = e => {\n\tconst archiveBtn = e.target.closest('button.archive');\n\tif (archiveBtn) {\n\t\tarchiveTopic(archiveBtn.dataset.id, topics);\n\t}\n\tconst upvoteBtn = e.target.closest('button.upvote');\n\tif (upvoteBtn) {\n\t\tupvoteTopic(upvoteBtn.dataset.id, topics);\n\t}\n\tconst downvoteBtn = e.target.closest('button.downvote');\n\tif (downvoteBtn) {\n\t\tdownvoteTopic(downvoteBtn.dataset.id, topics);\n\t}\n\tconst deleteBtn = e.target.closest('button.delete');\n\tif (deleteBtn) {\n\t\tdeleteTopic(deleteBtn.dataset.id, topics);\n\t}\n};\n\nconst archiveTopic = (id, topics) => {\n\tconst topicToArchive = topics.find(topic => topic.id === id);\n\ttopicToArchive.discussedOn = new Date(); // add a timestamp to the attribute\n\tshowTopics(topics);\n};\n\nconst upvoteTopic = (id, topics) => {\n\tconst topicToUpvote = topics.find(topic => topic.id === id);\n\ttopicToUpvote.upvotes++;\n\tshowTopics(topics);\n};\nconst downvoteTopic = (id, topics) => {\n\tconst topicToDownvote = topics.find(topic => topic.id === id);\n\ttopicToDownvote.downvotes++;\n\tshowTopics(topics);\n};\n\nconst deleteTopic = (id, topics) => {\n\t// need to use a mutable method here\n\ttopics.forEach((topic, index) => {\n\t\tif (topic.id === id) {\n\t\t\ttopics.splice(index, 1);\n\t\t}\n\t});\n\tshowTopics(topics);\n};\n\nconst handleSubmit = e => {\n\te.preventDefault();\n\tlet newTopic = createNewTopic(e.currentTarget.topic.value);\n\ttopics.push(newTopic);\n\tshowTopics(topics);\n\taddTopicForm.reset();\n};\n\nconst createNewTopic = title => {\n\treturn {\n\t\tupvotes: 0,\n\t\tdownvotes: 0,\n\t\tdisussedOn: '',\n\t\ttitle: title,\n\t\tid: Date.now(),\n\t};\n};\n\n\naddTopicForm.addEventListener('submit', handleSubmit);\ndocument.body.addEventListener('click', handleClick);\n"]}